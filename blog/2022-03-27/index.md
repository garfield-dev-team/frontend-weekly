---
slug: 3æœˆ27æ—¥å†…å®¹æ±‡æ€»
title: 3æœˆ27æ—¥å†…å®¹æ±‡æ€»
authors: [garfield]
tags: [git, ESLint, Prettier, yaml, CSS, Vue3, JSON åºåˆ—åŒ–, Golang]
---

ğŸ“’ [ã€Anthony Fuã€‘å†™ä¸ªèªæ˜çš„æ‰“å­—æœºï¼ç›´æ’­å½•åƒ](https://www.bilibili.com/video/BV1bZ4y167gz)

ğŸ“’ https://github.com/unjs

ğŸ“’ å¦‚ä½•ç†è§£ partition å‡½æ•°

åˆ©ç”¨å·¦å³æŒ‡é’ˆï¼Œå…¶å®æœ‰ç‚¹ç±»ä¼¼åè½¬æ•°ç»„ï¼Œåªä¸è¿‡åè½¬æ•°ç»„å¯¹æ¯ä¸ªå…ƒç´ éƒ½äº¤æ¢ä¸€ä¸‹ï¼Œè€Œ partition åªæœ‰åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è¿›è¡Œäº¤æ¢ï¼š

- å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œç›´åˆ° `nums[i] > pivot` åœæ­¢ç§»åŠ¨ï¼Œæ­¤æ—¶å†ç§»åŠ¨å³æŒ‡é’ˆï¼Œæ¥ä¸‹æ¥ä¼šæœ‰ä¸¤ç§æƒ…å†µ
  - å³æŒ‡é’ˆé‡åˆ° `nums[j] <= pivot` æ—¶åœæ­¢ç§»åŠ¨ï¼Œæ­¤æ—¶è¿›è¡Œå…ƒç´ äº¤æ¢
  - å·¦æŒ‡é’ˆå³ä¾§çš„å…ƒç´ éƒ½å¤§äº `pivot`ï¼Œæ²¡æœ‰å…ƒç´ éœ€è¦äº¤æ¢ï¼Œæœ€ç»ˆä¸¤ä¸ªæŒ‡é’ˆé‡åˆï¼Œåœæ­¢æ“ä½œ
- ä¸æ–­é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°äº¤æ¢ç»“æŸï¼Œæ­¤æ—¶ `nums[j]` ä¸ºè¾ƒå°å€¼ï¼Œå°† `pivot` ä¸ `nums[j]` äº¤æ¢

```ts
const partition = (nums: number[], lo: number, hi: number) => {
  const pivot = nums[lo];
  let i = lo + 1,
    j = hi;
  while (true) {
    while (i < hi && nums[i] <= pivot) {
      i++;
    }
    while (j > lo && nums[j] > pivot) {
      j--;
    }
    if (i >= j) {
      break;
    }
    swap(nums, i, j);
  }
  swap(nums, lo, j);
  return j;
};

const swap = (nums: number[], i: number, j: number) => {
  const temp = nums[i];
  nums[i] = nums[j];
  nums[j] = temp;
};
```

ğŸ“’ [åœ¨é¡¹ç›®ä¸­ç”¨tså°è£…axiosï¼Œä¸€æ¬¡å°è£…æ•´ä¸ªå›¢é˜Ÿå—ç›ŠğŸ˜](https://juejin.cn/post/7071518211392405541)

ğŸ“’ é˜¿é‡Œä¸‰é¢ï¼šçµé­‚æ‹·é—®â€”â€”æœ‰react fiberï¼Œä¸ºä»€ä¹ˆä¸éœ€è¦vue fiberå‘¢

ä¸ºä»€ä¹ˆé€’å½’éå† vdom æ ‘ä¸èƒ½ä¸­æ–­

è¿™ç§éå†æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå¿…é¡»ä¸€æ¬¡æ€§å®Œæˆã€‚å‡è®¾éå†å‘ç”Ÿäº†ä¸­æ–­ï¼Œè™½ç„¶å¯ä»¥ä¿ç•™å½“ä¸‹è¿›è¡Œä¸­èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œä¸‹æ¬¡ç»§ç»­æ—¶ï¼Œæˆ‘ä»¬çš„ç¡®å¯ä»¥ç»§ç»­éå†è¯¥èŠ‚ç‚¹ä¸‹é¢çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•æ‰¾åˆ°å…¶çˆ¶èŠ‚ç‚¹â€”â€”å› ä¸ºæ¯ä¸ªèŠ‚ç‚¹åªæœ‰å…¶å­èŠ‚ç‚¹çš„æŒ‡å‘ã€‚æ–­ç‚¹æ²¡æœ‰åŠæ³•æ¢å¤ï¼Œåªèƒ½ä»å¤´å†æ¥ä¸€éã€‚

åœ¨æ–°çš„æ¶æ„ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸‰ä¸ªæŒ‡é’ˆï¼šåˆ†åˆ«æŒ‡å‘ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ã€ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€‚è¿™ç§æ•°æ®ç»“æ„å°±æ˜¯fiberï¼Œå®ƒçš„éå†è§„åˆ™å¦‚ä¸‹ï¼š

1. ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡éå†è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€å…„å¼ŸèŠ‚ç‚¹ï¼Œå¦‚æœä¸¤è€…éƒ½éå†äº†ï¼Œåˆ™å›åˆ°å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼›
2. å½“ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éå†å®Œæˆï¼Œæ‰è®¤ä¸ºè¯¥èŠ‚ç‚¹éå†å®Œæˆï¼›

æå‡ºé—®é¢˜ï¼šrender é˜¶æ®µ vdom è½¬ fiber è¿˜æ˜¯é€šè¿‡é€’å½’çš„æ–¹å¼ï¼Œé‚£ä¹ˆ fiber é“¾è¡¨å¯ä¸­æ–­éå†æ˜¯åœ¨å“ªä¸€æ­¥

[é˜¿é‡Œä¸‰é¢ï¼šçµé­‚æ‹·é—®â€”â€”æœ‰react fiberï¼Œä¸ºä»€ä¹ˆä¸éœ€è¦vue fiberå‘¢](https://juejin.cn/post/7077545184807878692)

[React æŠ€æœ¯æ­ç§˜](https://react.iamkasong.com/process/reconciler.html)

ğŸ“’ [Vueç»„ä»¶åº“è®¾è®¡ | Vue3ç»„ä»¶åœ¨çº¿äº¤äº’è§£é‡Šå™¨](https://juejin.cn/post/7064864648729722887)

ğŸ“’ ç®­å¤´å‡½æ•°ä¸¤ä¸ªæ³¨æ„ç‚¹

**1. ç®­å¤´å‡½æ•°ä¸­ `this` æŒ‡å‘èƒ½å¦æ”¹å˜**

ä»¥ä¸‹å¼•ç”¨é˜®ä¸€å³° ES6 æ•™ç¨‹ï¼š

> ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ `this` å¯¹è±¡ï¼Œå†…éƒ¨çš„ `this` å°±æ˜¯å®šä¹‰æ—¶ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„ `this`ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„ `this` æŒ‡å‘æ˜¯å›ºå®šçš„ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™®é€šå‡½æ•°çš„ `this` æŒ‡å‘æ˜¯å¯å˜çš„

çœ‹äº†ä¸Šé¢è¿™æ®µæè¿°ï¼Œå¾ˆå¤šåŒå­¦å¯èƒ½éƒ½è®¤ä¸ºï¼Œç®­å¤´å‡½æ•°çš„ `this` æ˜¯æ— æ³•æ”¹å˜çš„ï¼Œä½†å®é™…ä¸Šç®­å¤´å‡½æ•°çš„ `this` æ˜¯è·Ÿç€ä¸Šå±‚ä½œç”¨åŸŸèµ°çš„ï¼Œåªè¦ä¸Šå±‚ä½œç”¨åŸŸçš„ `this` æ”¹å˜ï¼Œç®­å¤´å‡½æ•°ä¸­çš„ `this` ä¹Ÿä¼šç›¸åº”æ”¹å˜ï¼š

```js
function foo() {
  const bar = () => {
    // ç®­å¤´å‡½æ•°çš„ this æ¥è‡ª foo å‡½æ•°
    console.log(this.name);
  }
  bar();
}

const o1 = { name: "2333" };
const o2 = { name: "666" };

foo.bind(o1)(); // 2333
foo.bind(o2)(); // 666
```

å¦‚æœå°†ä¸Šè¿°ä»£ç ç¼–è¯‘ä¸º ES5 å°±èƒ½å¾ˆå®¹æ˜“ç†è§£ä¸Šè¿°è¿‡ç¨‹ï¼š

```js
function foo() {
  var _this = this;
  var bar = function {
    console.log(_this.name);
  }
  bar();
}
```

**2. ä¸ºä»€ä¹ˆâ€œç±»æ–¹æ³•â€å¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°**

åœ¨åšå®¢ä¸­çœ‹åˆ°æœ‰è¿™æ ·çš„ä»£ç ï¼š

```js
class Person {
  constructor(name) {
    this.name = name;
  }

  getName = () => {
    console.log(this.name);
  }
}
```

å’‹ä¸€çœ‹å¥½åƒæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä»”ç»†ä¸€æƒ³å‘ç°ä¸å¯¹ï¼ŒåŸå‹å¯¹è±¡åœ¨æ‰€æœ‰å®ä¾‹ä¹‹é—´æ˜¯å…±äº«çš„ï¼Œå› æ­¤ç±»æ–¹æ³•çš„ `this` å¿…é¡»è¦åŠ¨æ€ç»‘å®šï¼Œè€Œç®­å¤´å‡½æ•°çš„ `this` æ˜¯é™æ€çš„ï¼Œè¿™æ ·ä¸å°±æœ‰ bug äº†ï¼Œä½†æ˜¯è¯•éªŒå‘ç°å¹¶æ²¡æœ‰é—®é¢˜ï¼š

```js
const p1 = new Person("2333");
p1.getName(); // 2333
const p2 = new Person("666");
p2.getName(); // 666
```

è¿™æ˜¯å› ä¸ºï¼Œ`getName` å®é™…å¹¶ä¸æ˜¯ç±»æ–¹æ³•ï¼Œè€Œæ˜¯ ES2022 ä¸­ç±»å±æ€§çš„å†™æ³•ï¼Œ`getName` å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡çš„è‡ªæœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç è¯æ˜ï¼š

```js
Object.prototype.hasOwnProperty.call(p1, "getName"); // true
```

è¿™ä¸€ç‚¹åœ¨ React æ–‡æ¡£äº‹ä»¶å¤„ç†å‡½æ•° `this` ç»‘å®šä¸­ä¹Ÿæœ‰è¯´æ˜ï¼š

```jsx
class Foo extends Component {
  // Note: this syntax is experimental and not standardized yet.
  handleClick = () => {
    console.log('Click happened');
  }
  render() {
    return <button onClick={this.handleClick}>Click Me</button>;
  }
}
```

> https://reactjs.org/docs/faq-functions.html#how-do-i-bind-a-function-to-a-component-instance

è€Œç±»æ–¹æ³•æœ‰ä¸”ä»…æœ‰ä¸‹é¢è¿™ç§å†™æ³•ï¼š

```js
class Person {
  constructor(name) {
    this.name = name;
  }

  getName() {
    console.log(this.name);
  }
}
```

ä½¿ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºç±»å±æ€§æ—¶ï¼Œç»‘å®š `this` çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š

```js
function Person(name) {
  this.name = name;
  this.getName = () => {
    console.log(this.name);
  }
}

const o = {};
Person.bind(o)("2333");
o.getName(); // 2333
```

> åœ¨ `new` è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œ`Person` å‡½æ•°çš„ `this` ä¼šç»‘å®šåˆ°å®ä¾‹å¯¹è±¡ä¸Šï¼Œç®­å¤´å‡½æ•°çš„ `this` å°±æ˜¯ `Person` å‡½æ•°çš„ `this`ï¼Œå› æ­¤ç®­å¤´å‡½æ•°çš„ `this` ä¼šæŒ‡å‘å®ä¾‹å¯¹è±¡ï¼Œå¹¶ä¸”ç”±äºç®­å¤´å‡½æ•°ä½œä¸ºç±»çš„è‡ªæœ‰å±æ€§ï¼Œä¼šåœ¨æ¯æ¬¡ `new` çš„æ—¶å€™é‡æ–°ç”Ÿæˆï¼Œå› æ­¤ä¸åŒå®ä¾‹ä¹‹é—´ä¸ä¼šå½±å“

ğŸ“’ [æˆ‘çš„ç¬¬ä¸€æ¬¡webpackä¼˜åŒ–ï¼Œé¦–å±æ¸²æŸ“ä»9såˆ°1s](https://zhuanlan.zhihu.com/p/476712416)

ğŸ“’ [å‡ ä¸ªä¸€çœ‹å°±ä¼šçš„ TypeScript å°æŠ€å·§](https://juejin.cn/post/7077536309804859428)

ğŸ“’ [Next.js å®˜æ–¹å‘å¸ƒå…¨æ–°æ•™ç¨‹](https://nextjs.org/learn/foundations/about-nextjs)
